function PrimaryCtrl(t,e,r){function c(e){t.recirc=e.slice(0,5)}var i="http://stag.wired.com/wp-json/posts";t.recirc=e.get("primary")||void 0,void 0===t.recirc&&r.getData(i,c),t.$watch(function(){e.set("primary",t.recirc)})}function RecircCtrl(t,e,r){function c(e){t.recirc=e.slice(0,5)}var i="http://stag.wired.com/wp-json/posts";t.recirc=e.get("recirc")||void 0,void 0===t.recirc&&r.getData(i,c),t.$watch(function(){e.set("recirc",t.recirc)})}function SecondaryCtrl(t,e,r){function c(e){t.recirc=e.slice(0,5)}var i="http://stag.wired.com/wp-json/recent/subwired/";t.recirc=e.get("primary")||void 0,void 0===t.recirc&&r.getData(i,c),t.$watch(function(){e.set("primary",t.recirc)})}function ArticleCtrl(t,e,r){function c(e){t.article=e}t.article=e.get("article")||void 0,void 0===t.article&&r.getData(c),t.$watch(function(){e.set("article",t.article)})}function MainFactory(t){return{getData:function(e,r){return t.get(e).success(r)},postData:function(e,r,c){return t.post(e,r).success(c)}}}!function($){"use strict";function t(t,e,r){var c="http://www.wired.com/wp-json/",i=function(r){return e.get(c+r,{cache:!0}).then(function(e){return"object"==typeof e.data?e.data:t.reject(e.data)},function(e){return t.reject(e.data)})};return{getData:i}}function e(t,e,r,c){e.articles=r.get(e.path)||void 0;var i=function(){c.getData(e.path).then(function(t){e.articles=""!==e.section?t.posts.slice(0,10):t.slice(0,10),void 0===r.get(e.path)&&r(e.path,e.articles)})};t.$watch(function(){e.section=t.$stateParams.section,void 0!==e.section&&(e.path=""!==e.section?"recent/subwired/"+e.section:"posts")}),e.$watch("section",function(){void 0!==e.section&&i()})}function r(t,e,r){var c="recent/subwired/"+t.section;t.articles=e.get("card"+t.section)||void 0,void 0===t.articles&&void 0!==t.section&&r.getData(c).then(function(e){t.articles=e.posts.slice(0,3)}),t.$watch(function(){e.set("card"+t.section,t.articles)})}function c(t,e,r){t.recirc=e.get("recirc")||void 0,void 0===t.article&&r.getData("posts").then(function(e){t.recirc=e.slice(0,5)}),t.$watch(function(){e.set("recirc",t.recirc)})}angular.module("wiredApp",["ngSanitize","LocalStorageModule","ui.router"]).controller("RecircCtrl",c).controller("GridCtrl",e).controller("CardCtrl",r).factory("MainFactory",t).directive("wtSection",function(){return{controller:function(t,e,r){t.section=r.section}}}).run(["$rootScope","$state","$stateParams",function(t,e,r){t.$state=e,t.$stateParams=r}]).config(function(t,e,r){e.otherwise("/"),t.state("section",{url:"/:section",views:{primary:{templateUrl:"views/grid/section/primary.html"},recircNews:{templateUrl:"views/recirc/latestNews.html",controller:"RecircCtrl"},recircShared:{templateUrl:"views/recirc/latestNews.html",controller:"RecircCtrl"},secondary:{templateUrl:"views/grid/section/secondary.html"},card:{templateUrl:"views/global/card.html",controller:"CardCtrl"}}}).state("home",{url:"/",views:{primary:{templateUrl:"views/grid/home/primary.html"},recircNews:{templateUrl:"views/recirc/latestNews.html",controller:"RecircCtrl"},recircShared:{templateUrl:"views/recirc/latestNews.html",controller:"RecircCtrl"},secondary:{templateUrl:"views/grid/home/secondary.html"},card:{templateUrl:"views/global/card.html",controller:"CardCtrl"}}})})}(jQuery);